extends ../../layout/layout
block main
    h1(class="mb-4") Phân quyền

    div #{records}
    if(records)
        div(data-records=records)
    div(class="text-right")
            button(
                type="submit"
                class="btn btn-primary mb-3"
                button-submit
            ) Cập nhật

    table(
        class="table table-hover table-sm"
        table-permissons
    )
        thead
            tr
                th Tính năng
                each item in records 
                    th(class="text-center") #{item.title}
        tbody
            tr
                td(colspan="4")
                    b Tài khoản
            tr(data-name="id" )
                td 
                each item in records 
                    td(class="text-center" class="d-none")
                        input(type="text" value=item.id)
            tr(data-name="products-category_view")
                td Tạo tài khoản
                each item in records
                    td(class="text-center")
                        input(type="checkbox")
            tr(data-name="products-category_create")
                td Nhóm quyền
                each item in records
                    td(class="text-center")
                        input(type="checkbox")

            tr(data-name="products-category_edit")
                td Chỉnh sửa
                each item in records
                    td(class="text-center")
                        input(type="checkbox")

            tr(data-name="products-category_delete")
                td Xóa
                each item in records
                    td(class="text-center")
                        input(type="checkbox")
            
    form(
    id="form-change-permissions"
    method="POST"
    action=`${prefixAdmin}/role/permissions?_method=PATCH`
    )
        div(class="form-group")
            input(
            type="text"
            class="form-control"
            name="permissions"
            )

    script(src="/admin/js/role.js")